"use strict";(self["webpackChunkHouseHub"]=self["webpackChunkHouseHub"]||[]).push([[365],{8883:function(e,s,a){a.r(s),a.d(s,{default:function(){return _}});var i=a(6768),r=a(4232),t=a.p+"img/img8.8fb87329.jpg";const l={class:"main-content-login"},o={class:"login-container"},n={class:"login-form"},u={class:"flex flex-col gap-1"},m={class:"flex flex-col gap-1"};function d(e,s,a,d,c,p){const h=(0,i.g2)("Toast"),v=(0,i.g2)("InputText"),g=(0,i.g2)("Message"),f=(0,i.g2)("Button"),k=(0,i.g2)("Form");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(h),(0,i.Lk)("div",o,[s[2]||(s[2]=(0,i.Lk)("div",{class:"login-image"},[(0,i.Lk)("img",{src:t,alt:"HouseHub"})],-1)),(0,i.Lk)("div",n,[s[0]||(s[0]=(0,i.Lk)("h1",null,"House Hub",-1)),s[1]||(s[1]=(0,i.Lk)("h3",null,"Iniciar SesiÃ³n",-1)),(0,i.bF)(k,{initialValues:c.initialValues,resolver:p.resolver,validateOnValueUpdate:!1,validateOnBlur:!1,onSubmit:p.onFormSubmit,class:"flex flex-col gap-4 w-full sm:w-56"},{default:(0,i.k6)(e=>[(0,i.Lk)("div",u,[(0,i.bF)(v,{name:"email",type:"email",placeholder:"email",fluid:""}),e.email?.invalid?((0,i.uX)(),(0,i.Wv)(g,{key:0,severity:"error",size:"small",variant:"simple"},{default:(0,i.k6)(()=>[(0,i.eW)((0,r.v_)(e.email.error.message),1)]),_:2},1024)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",m,[(0,i.bF)(v,{name:"password",type:"password",placeholder:"Password",fluid:""}),e.password?.invalid?((0,i.uX)(),(0,i.Wv)(g,{key:0,severity:"error",size:"small",variant:"simple"},{default:(0,i.k6)(()=>[(0,i.eW)((0,r.v_)(e.password.error.message),1)]),_:2},1024)):(0,i.Q3)("",!0)]),c.loginErr?((0,i.uX)(),(0,i.Wv)(g,{key:0,severity:"error",size:"small",variant:"simple"},{default:(0,i.k6)(()=>[(0,i.eW)((0,r.v_)(c.loginErr),1)]),_:1})):(0,i.Q3)("",!0),(0,i.bF)(f,{type:"submit",severity:"secondary",label:"Submit",style:{"margin-top":"20px"}})]),_:1},8,["initialValues","resolver","onSubmit"])])])])}a(4114);var c=a(9018),p=a(6498),h=a(6988),v=a(542),g=a(3053),f=a(569),k=a(144),b=a(9765),w=a(1387),y=a(3830),L=a(7317),S={components:{Button:c.A,Form:f.A,InputText:p.A,Message:h.A,Select:v.A,Toast:g.A},data(){return{authStore:(0,b.n)(),router:(0,w.rd)(),toast:(0,y.d)(),token:(0,k.KR)(""),loginErr:(0,k.KR)(""),initialValues:(0,k.KR)({email:"jj@jj.com",password:"pass"}),userData:{id:0,email:"",name:"",rol:null},condominiosList:[{id:0,name:"",description:"",image:null}]}},methods:{async handleLogin(){this.userData=(await L.A.login(this.initialValues)).data},resolver({values:e}){const s={};return e.email||(s.email=[{message:"Email is required."}]),e.password||(s.password=[{message:"Password is required."}]),this.initialValues.email=e.email,this.initialValues.password=e.password,{errors:s}},async onFormSubmit({valid:e}){e&&(await this.handleLogin(),this.userData.rol?(this.authStore.login(this.userData),1===this.userData.rol?this.$router.push({name:"homeuser"}):2===this.userData.rol?(this.authStore.setCondminiosList(this.condominiosList),this.$router.push({name:"homeadmin"})):this.$router.push({name:"homesuperuser"})):(this.toast.add({severity:"error",summary:"Email / contrasena incorrectos.",life:3e3}),this.loginErr="Email / contrasena incorrectos."))}}},x=a(1241);const F=(0,x.A)(S,[["render",d],["__scopeId","data-v-d7260910"]]);var _=F}}]);
//# sourceMappingURL=365.e0efd226.js.map